(executables
 (names index)
 (libraries brr bigstringaf js_of_ocaml-lwt camlboy_lib)
 (link_flags (:standard -no-check-prims))
 (modes js))

(rule
 (targets index.js)
 (deps index.bc.js)
 (action (run cp %{deps} %{targets})))

(rule
 (targets tobu.gb)
 (deps ../../resource/games/tobu.gb)
 (action (run cp %{deps} %{targets})))

(rule
 (targets the-bouncing-ball.gb)
 (deps ../../resource/games/the-bouncing-ball.gb)
 (action (run cp %{deps} %{targets})))

(alias
 (name app)
 (deps index.js index.html))
